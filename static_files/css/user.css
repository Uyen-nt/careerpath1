

.header-actions .dropdown .dropdown-menu {
    width: 170px;
    transition: none !important;
}

.header-actions .dropdown .dropdown-menu .dropdown-item {
    display: flex;
    align-items: center;   
    justify-content: flex-start; 
    
    padding-top: 0.65rem;    
    padding-bottom: 0.65rem; 
    
    padding-left: 1.25rem;  
    padding-right: 1rem;  
}


/* ===================================================================
   CAREERPATH - USER AUTHENTICATION STYLES (LOGIN & REGISTER)
   =================================================================== */

/* --- 1. CSS VARIABLES --- */
:root {
    /* Brand Colors */
    --primary-green: #28a745;
    --primary-yellow: #ffc107;
    --dark-green: #1e7e34;
    --light-green-bg: #f0f9f3;
    --light-yellow-bg: #fff8e1;

    /* RGB values for rgba() */
    --primary-green-rgb: 40, 167, 69;

    /* Typography & Text Colors */
    --font-primary: 'Be Vietnam Pro', sans-serif;
    --text-dark: #111827;
    --text-medium: #374151;
    --text-light: #6b7280;

    /* UI Colors */
    --body-bg: linear-gradient(135deg, var(--primary-green) 0%, var(--primary-yellow) 100%);
    --card-bg: #ffffff;
    --border-color: #e5e7eb;
    --input-bg: #f9fafb;
    --error-color: #ef4444;
    --error-bg: #fee2e2;

    /* Sizing & Radius */
    --border-radius-main: 24px;
    --border-radius-btn: 12px;
    --border-radius-input: 10px;
}

/* --- 2. BASE & BODY STYLES --- */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    font-family: var(--font-primary);
    background: var(--body-bg);
    color: var(--text-medium);
    line-height: 1.6;
}

a {
    color: var(--primary-green);
    text-decoration: none;
    transition: color 0.3s ease;
}
a:hover {
    color: var(--dark-green);
}

/* --- 3. LAYOUT WRAPPER & CONTAINER --- */
.login-wrapper {
    width: 100%;
    min-height: 100vh; /* Allow scrolling for register page */
    padding: 40px;
}

.login-container {
    display: flex;
    width: 100%;
    max-width: 1150px; /* Slightly wider */
    margin: 0 auto;
    background-color: var(--card-bg);
    border-radius: var(--border-radius-main);
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    overflow: hidden;
}

/* --- 3.1. LAYOUT RIÊNG CHO TRANG ĐĂNG NHẬP (Giữ nguyên) --- */
/* Căn giữa card, không cuộn */
body.page-login .login-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
}
/* Chia cột 45-55 cho đăng nhập */
body.page-login .login-form-panel {
    flex-basis: 45%;
}
body.page-login .login-illustration-panel {
    flex-basis: 55%;
}


/* --- 3.2. LAYOUT RIÊNG CHO TRANG ĐĂNG KÝ (MỚI) --- */

/* Giới hạn chiều cao của container trên trang đăng ký */

/* **Chia cột 50-50 CHỈ cho trang đăng ký** */
body.page-register .login-form-panel,
body.page-register .login-illustration-panel {
    flex-basis: 50%;
}


/* --- 4. FORM PANEL (LEFT) --- */
.login-form-panel {
    flex-basis: 45%;
    padding: 50px 60px;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.form-title {
    font-size: 2rem;
    font-weight: 700;
    color: var(--text-dark);
    margin-bottom: 35px;
    text-align: center; /* **THAY ĐỔI Ở ĐÂY: từ 'left' sang 'center'** */
}

/* --- 5. FLOATING LABEL INPUTS --- */
.floating-input-group {
    position: relative;
    margin-bottom: 25px;
}
.floating-input-group input,
.input-group input { /* Style for non-floating inputs too */
    width: 100%;
    padding: 16px 18px;
    /* **THAY ĐỔI Ở ĐÂY: ĐỔI MÀU VIỀN** */
    border: 1px solid #d1d5db; /* Một màu xám đậm hơn. Ví dụ: Tailwind's gray-300 */
    border-radius: var(--border-radius-input);
    font-size: 1rem;
    font-family: var(--font-primary);
    background-color: var(--card-bg, #fff);
    transition: all 0.2s ease;
}

.floating-input-group input:hover,
.input-group input:hover {
    border-color: #28bd28; 
    background-color: #fff; 
}

.floating-input-group input:focus,
.input-group input:focus {
    outline: none;
    border-color: var(--primary-green);
    background-color: var(--card-bg);
    box-shadow: 0 0 0 3px rgba(var(--primary-green-rgb), 0.2);
}

.floating-input-group label {
    position: absolute;
    top: 50%;
    left: 18px;
    transform: translateY(-50%);
    background-color: var(--card-bg);
    padding: 0 5px;
    color: var(--text-light);
    font-size: 1rem;
    transition: all 0.2s ease-in-out;
    pointer-events: none;
}

/* Floating label effect */
.floating-input-group input:focus + label,
.floating-input-group input:not(:placeholder-shown) + label {
    top: 0;
    left: 12px;
    font-size: 0.8rem;
    color: var(--primary-green);
    font-weight: 500;
}

/* Non-floating label (for register page) */
.input-group label {
    display: block;
    font-weight: 500;
    margin-bottom: 8px;
    font-size: 0.9rem;
    color: var(--text-medium);
}


/* --- 6. PASSWORD TOGGLE & FORM ACTIONS --- */
.password-group {
    position: relative;
}
.toggle-password {
    position: absolute;
    top: 50%;
    right: 15px;
    transform: translateY(-50%);
    background: none;
    border: none;
    cursor: pointer;
    color: var(--text-light);
    font-size: 1.1rem;
    padding: 5px;
}
.toggle-password:hover {
    color: var(--text-medium);
}

.form-actions {
    display: flex;
    align-items: center;
    justify-content: flex-start; /* Đổi từ space-between */
    gap: 8px; /* Khoảng cách giữa checkbox và link */
    margin-bottom: 30px;
}

.form-actions .action-link {
    margin-left: auto; /* đẩy link ra phải */
}

.checkbox-group {
    display: flex;
    align-items: center;
    cursor: pointer; /* **Biến toàn bộ khu vực thành con trỏ** */
    padding: 5px; /* Thêm padding để tăng vùng hover */
    margin: -5px; /* Bù lại padding để không ảnh hưởng layout */
    border-radius: 6px; /* Bo góc cho vùng hover */
    transition: background-color 0.2s ease; /* Hiệu ứng nền */
}

.checkbox-group input[type="checkbox"] {
    width: 18px;
    height: 18px;
    margin-right: 8px;
    accent-color: var(--primary-green);
    border-radius: 4px; /* Giữ nguyên hoặc điều chỉnh */
    /* **Thêm style cho viền để có thể thay đổi** */
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-color: #fff;
    border: 1.5px solid #cbd5e0; /* Viền xám đậm hơn một chút */
    position: relative;
    cursor: pointer;
    transition: all 0.2s ease;
}

/* Style khi checkbox được tích */
.checkbox-group input[type="checkbox"]:checked {
    background-color: var(--primary-green);
    border-color: var(--primary-green);
}

/* Thêm dấu tích V bằng pseudo-element */
.checkbox-group input[type="checkbox"]:checked::before {
    content: '\2713'; /* Mã ký tự cho dấu tích */
    display: block;
    color: white;
    font-size: 14px;
    font-weight: bold;
    text-align: center;
    line-height: 16px; /* Căn giữa dấu tích */
}


.checkbox-group label {
    font-size: 0.9rem;
    color: var(--text-medium);
    font-weight: 500;
    user-select: none; /* Ngăn không cho chọn text của label */
    transition: color 0.2s ease;
}

/* 
--- **HIỆU ỨNG KHI DI CHUỘT VÀO** ---
*/
.checkbox-group:hover input[type="checkbox"] {
    border-color: var(--primary-green); /* **Đổi màu viền thành xanh lá** */
    box-shadow: 0 0 0 3px rgba(var(--primary-green-rgb), 0.15); /* **Thêm shadow nhẹ** */
}

.checkbox-group:hover label {
    color: var(--text-dark); /* **Đổi màu chữ đậm hơn** */
}
.action-link {
    font-size: 0.9rem;
    font-weight: 600;
}

/* --- 7. BUTTONS & DIVIDERS --- */
.btn-submit {
    width: 100%;
    padding: 15px;
    border: none;
    border-radius: var(--border-radius-btn);
    background: linear-gradient(135deg, var(--primary-green) 0%, var(--primary-yellow) 100%);
    color: #fff;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px -5px rgba(var(--primary-green-rgb), 0.5);
}
.btn-submit:hover {
    transform: translateY(-3px);
    box-shadow: 0 7px 25px -5px rgba(var(--primary-green-rgb), 0.6);
}

.or-divider {
    display: flex;
    align-items: center;
    text-align: center;
    color: #a0aec0;
    margin: 25px 0;
    font-size: 0.8rem;
    font-weight: 500;
    text-transform: uppercase;
}
.or-divider::before, .or-divider::after {
    content: '';
    flex: 1;
    border-bottom: 1px solid #e2e8f0;
}
.or-divider span {
    padding: 0 1rem;
}

.google-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    width: 100%;
    padding: 12px;
    border: 1px solid #cbd5e0;
    border-radius: var(--border-radius-btn);
    background-color: #fff;
    font-weight: 600;
    color: #2d3748;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.25s ease;
}
.google-btn:hover {
    background-color: #f7fafc;
    border-color: #a0aec0;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

.switch-form-text {
    text-align: center;
    margin-top: 25px;
    font-size: 0.95rem;
    color: var(--text-light);
}
.switch-form-link {
    font-weight: 600;
}

/* --- 8. ILLUSTRATION PANEL (RIGHT) --- */
.login-illustration-panel {
    flex-basis: 55%;
    background: linear-gradient(160deg, var(--light-green-bg) 0%, var(--light-yellow-bg) 100%);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 50px;
    text-align: center;
}
.illustration-content {
    max-width: 420px;
}

.illustration-title {
    font-size: 1.8rem;
    font-weight: 600; /* Độ đậm cho chữ "Chào mừng đến với" */
    color: var(--text-dark);
    margin-bottom: 15px;
    line-height: 1.4;
}

.illustration-title .brand-text {
    font-family: 'Space Grotesk', 'Segoe UI', sans-serif;
    font-weight: 700;
    letter-spacing: 0.5px; /* thêm độ thoáng hiện đại */
    background: linear-gradient(120deg, var(--primary-green) 20%, var(--primary-yellow) 80%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
    display: inline-block;
    animation: pulseText 2.5s ease-in-out infinite;
}

@keyframes pulseText {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}

.illustration-subtitle {
    font-size: 1rem;
    color: var(--text-light);
    margin-bottom: 40px; /* **Tăng khoảng cách để đẩy ảnh xuống** */
}

.illustration-img {
    width: 100%;
    /* **Tăng max-width để ảnh to hơn** */
    max-width: 420px; /* Ví dụ: Tăng từ 320px lên 380px */
    margin-top: 0; /* Bỏ margin-top nếu đã có margin-bottom từ subtitle */
}
/* Logo in illustration panel */
.login-illustration-panel .logo-link { text-decoration: none; }
.login-illustration-panel .logo { margin-bottom: 2rem; }
.login-illustration-panel .logo-text { font-size: 2rem; font-weight: 800; letter-spacing: -1px; }
.login-illustration-panel .brand-main { color: #1E293B; }
.login-illustration-panel .brand-highlight { color: var(--primary-green); }

/* --- 9. ERROR & HELP TEXT STYLES --- */
.form-errors {
    background-color: var(--error-bg);
    border-left: 4px solid var(--error-color);
    padding: 10px 15px;
    margin-bottom: 20px;
    border-radius: 4px;
}
.error-item {
    color: #991b1b; /* Darker red */
    font-size: 0.9rem;
    margin: 0;
}
.error-text { /* For individual fields */
    color: var(--error-color);
    font-size: 0.85rem;
    display: block;
    margin-top: 6px;
}
.help-text {
    font-size: 0.85rem;
    color: var(--text-light);
    display: block;
    margin-top: 6px;
}

/* --- 10. RESPONSIVE ADJUSTMENTS --- */
@media (max-width: 991px) {
    .login-wrapper {
        padding: 0;
    }
    .login-container {
        flex-direction: column;
        width: 100%;
        max-width: none;
        min-height: 100vh;
        border-radius: 0;
        box-shadow: none;
        /* Bỏ các thuộc tính height dành cho desktop */
        max-height: none;
        height: auto;
    }
    .login-illustration-panel {
        display: none; /* Ẩn cột ảnh trên mobile cho cả 2 trang */
    }
    .login-form-panel {
        flex-basis: auto; /* Reset flex-basis */
        padding: 40px;
        width: 100%;
        max-width: 500px;
        margin: 0 auto;
        /* Bỏ các thuộc tính cuộn/sticky trên mobile */
        overflow-y: visible;
        position: static;
        height: auto;
    }
    /* Đảm bảo trang đăng ký có thể cuộn trên tablet */
    body.page-register .login-form-panel {
        padding-top: 60px;
        padding-bottom: 60px;
    }
    /* Đảm bảo trang đăng nhập được căn giữa trên tablet */
    body.page-login .login-form-panel {
        min-height: 100vh;
        display: flex;
        justify-content: center;
    }
}


/* ==============================================================
   STYLES RIÊNG ĐỂ LÀM ĐẸP TRANG ĐĂNG KÝ
   ============================================================== */

/* --- 1. Reset các style cũ của form login --- */
.page-register .floating-input-group,
.page-register .form-actions {
    display: none; /* Ẩn các cấu trúc input cũ không dùng đến */
}
.page-register .form-title {
    text-align: center; /* **THAY ĐỔI Ở ĐÂY: từ 'left' sang 'center'** */
    margin-bottom: 30px;
    font-size: 2.2rem;
}
.page-register .form-subtitle {
    display: block;
    text-align: center; /* **(Tùy chọn) Căn giữa cả subtitle cho đồng bộ** */
    margin-bottom: 35px;
    font-size: 1rem;
    color: var(--text-light);
}


/* --- 2. Layout mới cho Input (Input Group V2) --- */
.page-register .input-group-v2 {
    margin-bottom: 20px; /* Khoảng cách thống nhất */
}
.page-register .input-group-v2 label {
    display: flex; align-items: center; gap: 8px;
    font-weight: 600; margin-bottom: 10px;
    font-size: 0.9rem; color: var(--text-dark);
}
.page-register .input-group-v2 label i.fas {
    color: var(--primary-green);
    font-size: 0.9rem; width: 18px; text-align: center;
}
.page-register .input-group-v2 input {
    width: 100%; padding: 12px 16px;
    border: 1.5px solid #d1d5db;
    border-radius: var(--border-radius-input, 10px);
    font-size: 0.95rem; background-color: #fff;
    transition: all 0.2s ease;
}
.page-register .input-group-v2 input:focus {
    outline: none;
    border-color: var(--primary-green);
    box-shadow: 0 0 0 3px rgba(var(--primary-green-rgb), 0.15);
}

.page-register .input-group-v2 input:hover,
.page-register .input-group-v2 input:hover {
    border-color: #28bd28; 
    background-color: #fff; 
}

/* --- 3. Layout 2 cột cho Họ và Tên --- */
.page-register .form-row {
    display: flex;
    gap: 20px;
    margin-bottom: 0; /* không cần khoảng cách tại đây */
}

.page-register .form-row .input-group-v2 {
    flex: 1;
    margin-bottom: 0;
}

.page-register .form-row-errors {
    display: flex;
    gap: 20px;
    margin-bottom: 0; /* bỏ margin-bottom để tránh cộng dồn */
    min-height: 20px; /* đảm bảo giữ khoảng cách đều với ô kế tiếp */
}

.page-register .form-row-errors .error-text {
    flex: 1;
    min-height: 1em;
}


/* --- 4. Style Lỗi và Help Text --- */
.page-register .input-group-v2.has-error input { border-color: var(--error-color); }
.page-register .input-group-v2.has-error label { color: var(--error-color); }
.page-register .input-group-v2.has-error label i.fas { color: var(--error-color); }
.page-register .input-group-v2.has-error input:focus {
    border-color: var(--error-color);
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.15);
}

.page-register .help-text {
    font-size: 0.85rem; color: var(--text-light); margin: 12px 0 20px 0;
}
.page-register .help-text ul {
    list-style-type: none; padding: 0; margin: 0;
}
.page-register .help-text li {
    margin-bottom: 5px; display: flex; align-items: flex-start;
}
.page-register .help-text li::before {
    content: "•"; margin-right: 10px; font-weight: bold; line-height: 1.6;
}
.page-register .error-text {
    color: var(--error-color); font-size: 0.85rem; display: block; margin-top: 6px;
}


.page-register .input-group-v2 .input-wrapper {
    position: relative; /* **Làm gốc định vị cho nút con mắt** */
}

.page-register .input-group-v2 input {
    width: 100%;
    /* **Tăng padding-right để chữ không bị che bởi con mắt** */
    padding: 12px 45px 12px 16px; 
    border: 1.5px solid #d1d5db;
    border-radius: var(--border-radius-input, 10px);
    font-size: 1rem;
    background-color: #fff;
    transition: all 0.2s ease;
}

.page-register .btn-submit {
    margin-top: 25px; 
    width: 100%;
    padding: 14px;
    font-size: 1rem;
    font-weight: 600;
}

/* --- 4. Style cho nút con mắt --- */
.page-register .toggle-password {
    position: absolute;
    top: 50%;
    right: 15px;
    transform: translateY(-50%);
    background: none;
    border: none;
    cursor: pointer;
    color: var(--text-light);
    font-size: 1.1rem;
    padding: 5px;
}
.page-register .toggle-password:hover {
    color: var(--text-dark);
}


/* ===================================================================
   PASSWORD RESET MODAL STYLES
   =================================================================== */

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(9, 30, 66, 0.54); /* Màu nền đậm hơn giống ảnh */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}
.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}
.modal-content {
    background: white;
    padding: 32px 40px; /* Padding giống ảnh */
    border-radius: 16px;
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    width: 100%;
    max-width: 480px; /* Rộng hơn một chút */
    transform: scale(0.95) translateY(10px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-align: left; /* Căn lề trái nội dung */
}
.modal-overlay.active .modal-content {
    transform: scale(1) translateY(0);
}
.modal-header {
    margin-bottom: 8px; /* Giảm khoảng cách */
}
.modal-title {
    font-size: 1.875rem; /* 30px */
    font-weight: 700;
    color: var(--primary-green); 
    margin: 0;
}
.modal-description {
    font-size: 1rem;
    color: #4B5563; /* Xám đậm */
    margin-top: 4px;
    margin-bottom: 24px;
    line-height: 1.5;
}
.modal-form .floating-input-group {
    margin-bottom: 24px;
}
.modal-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 16px;
}
.modal-actions .btn {
    padding: 12px 24px;
    border-radius: 8px;
    border: none;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
}
.btn-cancel {
    background-color: transparent;
    color: #4B5563;
    font-weight: 500;
}
.btn-cancel:hover {
    background-color: #F3F4F6; /* Xám rất nhạt khi hover */
}
.btn-continue {
    background-color: var(--primary-green);
    color: white;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}
.btn-continue:hover {
    background-color: var(--primary-green);
    transform: translateY(-1px);
}

/* --- TOAST NOTIFICATION STYLES --- */
#toast-container {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.toast {
    display: flex;
    align-items: center;
    gap: 12px;
    width: 380px;
    max-width: 90vw;
    background-color: white;
    border-radius: 8px;
    padding: 16px;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    overflow: hidden;
    position: relative;
    /* Animation */
    transform: translateX(calc(100% + 24px));
    transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.toast.show {
    transform: translateX(0);
}

.toast-icon svg {
    width: 28px;
    height: 28px;
    flex-shrink: 0;
}

.toast-message {
    font-size: 1rem;
    color: #4B5563; /* Gray-600 */
    line-height: 1.4;
    flex-grow: 1;
    font-weight: 400; /* <-- THÊM HOẶC CHỈNH SỬA DÒNG NÀY */
}

.toast-close {
    background: none;
    border: none;
    font-size: 24px;
    color: #9ca3af; /* Gray-400 */
    cursor: pointer;
    line-height: 1;
    padding: 4px;
}
.toast-close:hover {
    color: #374151; /* Gray-700 */
}

.toast-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 5px;
    background-color: #e5e7eb; /* Gray-200 */
}

.toast-progress-bar {
    height: 100%;
    width: 100%;
    background-color: #28a745; /* Green */
    border-radius: 5px;
    transition: width 5s linear;
}

.toast.show .toast-progress-bar {
    width: 0%;
}

@keyframes progress-countdown {
  from {
    width: 100%;
  }
  to {
    width: 0%;
  }
}

.toast-progress-bar {
    height: 100%;
    width: 100%;
    background-color: #28a745;
    border-radius: 5px;
}

/* Áp dụng animation khi toast hiển thị */
.toast.show .toast-progress-bar {
    animation: progress-countdown 5s linear forwards;
    animation-play-state: running; /* Mặc định là chạy */
}


/* --- CSS CHO FULL-PAGE LOADER --- */

.loading-overlay {
    position: fixed; /* Che phủ toàn bộ màn hình */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.7); /* Nền trắng mờ */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999; /* Luôn nằm trên cùng */
    
    /* Mặc định ẩn đi */
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.loading-overlay.active {
    opacity: 1;
    visibility: visible;
}

.loading-overlay .spinner {
    width: 60px; /* Kích thước lớn hơn */
    height: 60px;
    border: 6px solid rgba(0, 0, 0, 0.1); /* Viền xám nhạt */
    /* Sử dụng màu xanh từ biến CSS của bạn */
    border-top-color: var(--primary-green, #28a745); 
    border-radius: 50%;
    animation: full-page-spinner 1s linear infinite;
}

@keyframes full-page-spinner {
    to {
        transform: rotate(360deg);
    }
}




/* ===================================================================
   PROFILE PAGE - FINAL INTEGRATED LAYOUT
   =================================================================== */

/* --- 1. LAYOUT VÀ NỀN TRANG --- */
.profile-v4-wrapper {
    background: linear-gradient(145deg, var(--light-green, #eaf6ec) 0%, var(--light-yellow-bg, #fefce8) 100%);
    min-height: calc(100vh - 80px);
    padding: 2rem 1rem;
    position: relative;
    overflow: hidden; 
}

.profile-v4-container {
    max-width: 1400px;
    margin: 0 auto;
    border-radius: var(--border-radius-lg, 0.8rem);
    box-shadow: var(--box-shadow-soft, 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06));
    
    border: 3px solid transparent;
    background: linear-gradient(#ffffff, #ffffff) padding-box,
                linear-gradient(135deg, var(--primary-green, #28a745), var(--primary-yellow, #ffc107)) border-box;
}


/* --- 2. HỆ THỐNG TAB --- */
.profile-tabs {
    display: flex;
    border-bottom: 1px solid var(--border-color, #dee2e6);
    padding: 15px 30px 0 30px;
    border-top-left-radius: var(--border-radius-lg, 0.8rem);
    border-top-right-radius: var(--border-radius-lg, 0.8rem);
}
.tab-link {
    padding: 12px 20px;
    border-radius: 8px 8px 0 0;
    
    cursor: pointer;
    background: none;
    border: none;
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-medium);
    position: relative;
    border-bottom: 3px solid transparent;
    margin-right: 10px;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}
.tab-link:hover {
    color: var(--primary-green);
    background-color: var(--light-green, #eaf6ec);
}
.tab-link.active {
    color: var(--primary-green);
    border-bottom-color: var(--primary-green);
    background-color: #fff; /* Nền trắng cho tab đang được chọn (khi không hover) */
}
/* 
===================================================================
    [THAY ĐỔI]: Sửa dòng dưới đây để tab active vẫn có nền xanh khi hover
===================================================================
*/
.tab-link.active:hover {
    background-color: var(--light-green, #eaf6ec); /* Trước đó là #fff */
}

.tab-content {
    display: none;
    padding: 40px 50px;
    animation: fadeInContent 0.5s ease-in-out;
}
.tab-content.active {
    display: block;
}
@keyframes fadeInContent { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* --- 3. TAB THÔNG TIN CÁ NHÂN --- */
.info-tab-layout {
    display: flex;
    gap: 60px;
    align-items: flex-start;
}

/* Cột trái: Avatar và tên */
.info-tab-sidebar {
    flex: 0 0 200px;
    text-align: center;
}
.info-avatar-wrapper {
    position: relative;
    width: 160px;
    height: 160px;
    margin: 0 auto 20px;
}
.info-avatar, .info-avatar-placeholder {
    width: 100%; height: 100%; border-radius: 50%; object-fit: cover;
}
.info-avatar {
    border: 4px solid var(--border-color);
}
.info-avatar-placeholder {
    background-color: #4A5568; color: white; display: flex;
    align-items: center; justify-content: center;
    font-size: 5rem; font-weight: 700;
}
.info-avatar-upload-btn {
    position: absolute; bottom: 5px; right: 5px; width: 40px; height: 40px;
    background-color: white; color: var(--primary-green); border-radius: 50%;
    display: grid; place-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    cursor: pointer; transition: all 0.2s ease;
}
.info-avatar-upload-btn:hover {
    transform: scale(1.1);
}

/* Cột phải: Bảng thông tin */
.info-tab-details {
    flex: 1;
}
.info-header {
    display: flex; justify-content: space-between; align-items: center;
    padding-bottom: 15px; margin-bottom: 15px; border-bottom: 1px solid var(--border-color);
}
.info-header h3 {
    font-family: var(--font-primary); font-weight: 600;
    font-size: 1.5rem; color: var(--text-dark);
}
.btn-edit-inline {
    padding: 8px 18px; font-size: 0.9rem; text-decoration: none;
    border-radius: 50px; display: inline-flex; align-items: center;
    gap: 6px; background-color: var(--primary-green); color: white;
    border: none; transition: all 0.2s ease;
}
a.btn-edit-inline:hover {
    background-color: var(--dark-green);
}
.info-table td {
    padding: 12px 5px;
    border-bottom: 1px solid var(--bg-light-gray);
    vertical-align: middle;
}
.info-table .label {
    width: 220px;
    font-weight: 600;
    color: var(--text-medium);
}
.info-table .label i {
    color: var(--primary-green);
    width: 20px;
    margin-right: 8px;
}

.info-table.editable .label {
    width: 1%;
    white-space: nowrap;
    padding-right: 20px;
}

.info-table.editable .value {
    width: 99%;
}


/* --- 5. STYLE BÊN TRONG TAB "KẾT QUẢ TRẮC NGHIỆM" --- */
.results-placeholder {
    text-align: center;
    padding: 50px 20px;
    color: var(--text-medium, #495057);
}
.results-placeholder i {
    font-size: 3rem;
    margin-bottom: 15px;
    color: var(--border-color, #ced4da);
}

/* ... Các style cho loader và avatar ... */
.avatar-loader {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(255, 255, 255, 0.7);
    border-radius: 50%;
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 10;
}
.avatar-loader .spinner {
    width: 40px; height: 40px;
    border: 4px solid rgba(0, 0, 0, 0.1);
    border-top-color: var(--primary-green, #28a745);
    border-radius: 50%;
    animation: full-page-spinner 1s linear infinite;
}

/* --- STYLE CHO FORM CHỈNH SỬA --- */
.form-control-inline {
    width: 100%;
    padding: 10px 12px;
    font-size: 1rem;
    color: var(--text-dark);
    background-color: #f8f9fa;
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius-md);
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

.form-control-inline:hover {
    border-color: var(--primary-green, #28a745);
}

.form-control-inline:focus {
    color: #212529;
    background-color: #fff;
    border-color: var(--primary-green);
    outline: 0;
    box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
}

.form-control-inline[readonly] {
    background-color: #e9ecef;
    opacity: 1;
    cursor: not-allowed;
}

.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-top: 25px;
    padding-top: 20px;
    border-top: 1px solid var(--border-color);
}

/* --- Style chung cho các nút (có thể bạn đã có) --- */
.btn {
    display: inline-block; font-weight: 600; text-align: center;
    vertical-align: middle; cursor: pointer; user-select: none;
    border: 1px solid transparent; padding: 0.5rem 1.25rem;
    font-size: 0.9rem; border-radius: 50px;
    transition: all 0.2s ease-in-out;
    text-decoration: none;
}
.btn-primary {
    color: #fff;
    background-color: var(--primary-green);
    border-color: var(--primary-green);
}
.btn-primary:hover {
    background-color: var(--dark-green);
    border-color: var(--dark-green);
}
.btn-secondary {
    color: #333;
    background-color: #e2e6ea;
    border-color: #dae0e5;
}
.btn-secondary:hover {
    background-color: #d3d9df;
    border-color: #c8ced3;
}
.btn:disabled {
    opacity: 0.65;
    cursor: not-allowed;
}
.spinner-border-sm {
    width: 1rem; height: 1rem; border-width: .2em; vertical-align: -0.125em;
    border: .25em solid currentColor; border-right-color: transparent;
    border-radius: 50%;
    animation: .75s linear infinite spinner-border;
}
@keyframes spinner-border {
  to { transform: rotate(360deg); }
}

/* --- 4. RESPONSIVE --- */
@media (max-width: 767px) {
    .profile-v4-wrapper {
        padding: 20px 10px;
    }
    .info-tab-layout {
        flex-direction: column;
        align-items: center;
        gap: 30px;
    }
    .info-tab-details {
        width: 100%;
    }
    .tab-content {
        padding: 25px;
    }
}

/* --- TOAST NOTIFICATION STYLES (VERSION 2.0) --- */
#toast-container {
    position: fixed;
    bottom: 24px;
    right: 24px;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.toast {
    display: flex;
    align-items: center;
    gap: 12px;
    width: 350px;
    max-width: 90vw;
    background-color: white;
    border-radius: 8px;
    padding: 16px;
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    overflow: hidden;
    position: relative;

    transform: scaleX(0);
    transform-origin: right center;
    opacity: 0;
    transition: transform 0.25s ease-out, opacity 0.25s ease-out;
}

.toast.show {
    transform: scaleX(1);
    opacity: 1;
}


.toast-icon svg {
    width: 28px;
    height: 28px;
    flex-shrink: 0;
}

.toast-message {
    font-size: 1rem;
    color: #4B5563; /* Gray-600 */
    line-height: 1.4;
    flex-grow: 1;
    font-weight: 500;
}

.toast-close {
    background: none;
    border: none;
    font-size: 24px;
    color: #9ca3af; /* Gray-400 */
    cursor: pointer;
    line-height: 1;
    padding: 4px;
    align-self: flex-start; /* Giữ nút close ở trên cùng */
}
.toast-close:hover {
    color: #374151; /* Gray-700 */
}

.toast-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 5px;
    background-color: #e5e7eb; /* Gray-200 */
}

@keyframes progress-countdown {
  from { width: 100%; }
  to { width: 0%; }
}

.toast-progress-bar {
    height: 100%;
    width: 100%;
    border-radius: 5px;
}

/* Áp dụng animation khi toast hiển thị */
.toast.show .toast-progress-bar {
    animation: progress-countdown 5s linear forwards;
    animation-play-state: running; /* Mặc định là chạy */
}


/* --- Success styles --- */
.toast.success .toast-progress-bar {
    background-color: #28a745; /* Emerald-500 */
}

/* --- Error styles --- */
.toast.error .toast-progress-bar {
    background-color: #EF4444; /* Red-500 */
}

/* --- PROFILE ACTIONS & DELETE MODAL STYLES --- */

/* Footer chứa nút Xóa tài khoản */
.profile-actions-footer {
    display: flex;
    justify-content: flex-end; /* Đẩy nút sang phải */
    padding: 20px 50px;
    border-top: 1px solid #e5e7eb; /* Đường kẻ phân cách */
    background-color: #ffffff; /* Nền xám rất nhạt để phân biệt */
    border-bottom-left-radius: var(--border-radius-lg, 0.8rem);
    border-bottom-right-radius: var(--border-radius-lg, 0.8rem);
}

.btn-danger {
    color: #fff;
    background-color: #dc3545;
    border-color: #dc3545;
}
.btn-danger:hover {
    background-color: #c82333;
    border-color: #bd2130;
}
.btn-danger:disabled {
    background-color: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24;
    cursor: not-allowed;
    opacity: 0.8;
}

/* Modal Overlay (Giữ nguyên) */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0s 0.3s;
}
.modal-overlay.active {
    opacity: 1;
    visibility: visible;
    transition: opacity 0.3s ease;
}

/* Modal Content (Giữ nguyên) */
.modal-content {
    background: #fff;
    padding: 25px 30px;
    border-radius: 12px;
    width: 500px;
    max-width: 90%;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    transform: scale(0.9);
    transition: transform 0.3s ease;
}
.modal-overlay.active .modal-content {
    transform: scale(1);
}
.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 15px;
    margin-bottom: 15px;
}
.modal-header h3 {
    margin: 0;
    font-size: 1.5rem;
}
.modal-close-btn {
    background: none; border: none; font-size: 2rem; cursor: pointer; color: #aaa;
}
.modal-body p {
    line-height: 1.6;
    margin-bottom: 1rem;
}
.modal-body .monospace {
    background-color: #f1f1f1;
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Courier New', Courier, monospace;
}
.modal-footer {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    padding-top: 15px;
    margin-top: 15px;
    border-top: 1px solid var(--border-color);
}

/* --- QUIZ HISTORY STYLES (PREMIUM DESIGN V2) --- */

.quiz-history-list-v2 {
    display: flex;
    flex-direction: column;
    gap: 1.25rem; /* 20px */
}

.quiz-history-item-v2 {
    display: grid;
    /* Bố cục 3 cột: Ngày (auto) - Nội dung (1fr) - Nút (auto) */
    grid-template-columns: auto 1fr auto; 
    align-items: center;
    gap: 24px;
    background: #ffffff;
    border: 1px solid #e5e7eb; /* Gray-200 */
    border-radius: 12px;
    padding: 16px 24px;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.quiz-history-item-v2:hover {
    transform: translateY(-6px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.07), 0 3px 6px rgba(0, 0, 0, 0.05);
    border-color: var(--primary-green, #28a745);
}

/* --- Cột 1: Ngày tháng --- */
.history-item-date-block {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding-right: 24px;
    border-right: 1px solid #e5e7eb;
    text-align: center;
}
.history-item-day {
    font-size: 2.25rem; /* Rất lớn */
    font-weight: 700;
    color: var(--primary-green, #28a745);
    line-height: 1;
}
.history-item-monthyear {
    font-size: 0.875rem;
    color: #6b7280; /* Gray-500 */
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* --- Cột 2: Nội dung kết quả --- */
.history-item-content {
    display: flex;
    flex-direction: column;
    gap: 12px;
}
.history-result-v2 {
    display: flex;
    align-items: center;
    gap: 12px;
}
.history-result-v2 i {
    font-size: 1.2rem;
    color: #9ca3af; /* Gray-400 */
}
.history-result-v2 p {
    margin: 0;
    flex-grow: 1; /* Để thẻ % đẩy ra xa */
    color: #4b5563; /* Gray-600 */
}
.history-result-v2 strong {
    font-weight: 600;
    color: #111827; /* Gray-900 */
}

/* Thẻ badge cho phần trăm */
.result-percentage-badge {
    font-size: 0.8rem;
    font-weight: 600;
    padding: 4px 10px;
    border-radius: 50px; /* Bo tròn như viên thuốc */
    color: #15803d; /* Green-700 */
    background-color: #dcfce7; /* Green-100 */
    white-space: nowrap;
}
.result-percentage-badge.secondary {
    color: #6b7280; /* Gray-500 */
    background-color: #f3f4f6; /* Gray-100 */
}

/* Làm nổi bật kết quả top 1 */
.top-result-highlight {
    background: linear-gradient(90deg, #f0fdf4, #ffffff 70%); /* Nền gradient xanh nhạt */
    padding: 10px;
    margin: -10px; /* Trick để padding không làm lệch bố cục */
    border-radius: 8px;
}
.top-result-highlight i {
    color: var(--primary-yellow, #ffc107);
}

/* --- Cột 3: Nút hành động --- */
.quiz-history-actions-v2 .btn {
    transition: all 0.2s ease;
}

/* Hiệu ứng tương tác: khi hover thẻ, nút cũng thay đổi */
.quiz-history-item-v2:hover .btn-primary {
    background-color: var(--dark-green);
    transform: scale(1.05);
}

/* --- Responsive cho mobile --- */
@media (max-width: 767px) {
    .quiz-history-item-v2 {
        /* Chuyển thành 1 cột duy nhất */
        grid-template-columns: 1fr; 
        padding: 16px;
        gap: 16px;
    }
    .history-item-date-block {
        flex-direction: row; /* Ngày tháng nằm ngang */
        border-right: none;
        border-bottom: 1px solid #e5e7eb;
        padding-right: 0;
        padding-bottom: 12px;
        justify-content: flex-start;
        gap: 8px;
    }
    .history-item-day { font-size: 1.5rem; }
    .history-item-monthyear { font-size: 0.8rem; }
    
    .quiz-history-actions-v2 {
        align-self: flex-end; /* Đẩy nút sang phải */
    }
}